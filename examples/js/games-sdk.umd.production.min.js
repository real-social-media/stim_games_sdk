!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["games-sdk"]={})}(this,(function(e){"use strict";class t{constructor(e){this.requests={},this.target=e,window.addEventListener("message",this.response.bind(this))}response(e){const t=e.data,s=this.requests[t.type];s&&(s.forEach(({resolve:e,reject:s})=>{null!=t&&t.error?s(t.error):e(t)}),this.requests[t.type]=[])}send(e){this.target.postMessage(e,"*")}request(e){return new Promise((t,s)=>{this.requests[e.type]||(this.requests[e.type]=[]),this.requests[e.type].push({resolve:t,reject:s}),this.send(e)})}}var s;(s=e.IframeActionKind||(e.IframeActionKind={})).Authorize="@gameSDK:authorize",s.RequestEmail="@gameSDK:requestEmail",s.Purchase="@gameSDK:purchase",s.CheckPurchases="@gameSDK:checkPurchases";const r=()=>({type:e.IframeActionKind.Authorize}),a=()=>({type:e.IframeActionKind.RequestEmail}),i=t=>({type:e.IframeActionKind.Purchase,payload:t}),n=t=>({type:e.IframeActionKind.CheckPurchases,payload:t});var o={__proto__:null,authorize:r,requestEmail:a,purchase:i,checkPurchases:n};class u{constructor(e){this.emmiter=e}async authorize(){return(await this.emmiter.request(r())).payload}async requestEmail(){return(await this.emmiter.request(a())).payload}async purchase(e){await this.emmiter.send(i(e))}async checkPurchases(e){return(await this.emmiter.request(n(e))).payload}}var c=new u(new t(window.parent));e.actions=o,e.default=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=games-sdk.umd.production.min.js.map
